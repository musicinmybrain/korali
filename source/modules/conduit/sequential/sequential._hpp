#ifndef _KORALI_CONDUIT_SIMPLE_HPP_
#define _KORALI_CONDUIT_SIMPLE_HPP_

#include "modules/conduit/conduit.hpp"
#include <vector>

namespace korali
{
namespace conduit
{
class Sequential : public Conduit
{
  private:
  public:
  /**
  * @brief Initializes the conduit's configuration, only once per process.
  */
  void initialize() override;

  /**
  * @brief Starts/Resumes the processing of a new sample.
  * @param sample Sample to start/resume.
  */
  void processSample(Sample &sample) override;
  void broadcastGlobals(std::string key, knlohmann::json &globalsJs) override;

  /**
  * @brief Stores a pointer to the activa sample, for communication purposes
  */
  Sample *_currentSample;


  void sendMessageToEngine(knlohmann::json& message) override;
  knlohmann::json recvMessageFromEngine() override;
  knlohmann::json recvMessageFromSample(Sample& sample) override;
  void sendMessageToSample(Sample& sample, knlohmann::json& message) override;
};

} // namespace conduit
} // namespace korali

#endif // _KORALI_CONDUIT_SIMPLE_HPP_
