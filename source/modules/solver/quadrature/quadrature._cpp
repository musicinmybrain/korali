#include "modules/solver/quadrature/quadrature.hpp"
#include "modules/conduit/conduit.hpp"
#include "modules/engine/engine.hpp"

void korali::solver::Quadrature::setInitialConfiguration()
{
 // Initialize solver's configuration here
}

void korali::solver::Quadrature::runGeneration()
{
 if (_k->_currentGeneration == 1) setInitialConfiguration();

 korali::logInfo("Normal", "Running generation %lu...\n", _k->_currentGeneration);

 // Example: Evaluating a sample
 korali::Sample sample;
 sample["Operation"] = "Evaluate";
 _engine->_conduit->start(sample);
 _engine->_conduit->wait(sample);

 double evaluation = sample["Evaluation"];
 korali::logInfo("Normal", "Sample Evaluation: %f\n", evaluation);
}

void korali::solver::Quadrature::printGenerationBefore()
{
 korali::logInfo("Normal", "Preparing to start generation...\n");
}

void korali::solver::Quadrature::printGenerationAfter()
{
 korali::logInfo("Normal", "Finished to generation %lu...\n", _k->_currentGeneration);
}

