#include "modules/problem/optimization/stochastic/stochastic.hpp"

void korali::problem::optimization::Stochastic::evaluate(korali::Sample &sample)
{
  sample.run(_objectiveFunction);

  auto evaluation = KORALI_GET(double, sample, {"F(x)"});

  // If result is not a finite number, objective function evaluates to -Infinity
  if (std::isnan(evaluation))
    sample["F(x)"] = -korali::Inf;
  else
    sample["F(x)"] = evaluation;
}
