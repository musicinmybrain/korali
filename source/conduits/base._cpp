#include "korali.hpp"

Korali::Conduit::Base* Korali::Conduit::Base::getConduit(Korali::Conduit::Base* conduit, nlohmann::json& js)
{
 std::string conduitType = "Undefined";

 if (! isDefined(js, "['Type']")) Korali::logError("No conduit type provided.\n");

 conduitType = js["Type"].get<std::string>();

 // Conduit list

 if (conduit == nullptr) Korali::logError("Unrecognized conduit type provided: ['Type'] = %s.\n", conduitType.c_str());

 conduit->setConfiguration(js);
 conduit->initialize(conduit);
 return conduit;
}
