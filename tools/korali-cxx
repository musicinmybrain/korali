
CXXFLAGS="-I$PREFIX/include -I$PREFIX/lib/koraligsl/include/gsl --std=c++17"
CXXFLAGS="$CXXFLAGS -Wno-unused -Wunused-result -Wno-unused-parameter -Wno-address -Wno-deprecated-declarations -Wall -Wfatal-errors -Wno-unused-command-line-argument"
LDFLAGS="$PREFIX/lib/libkorali.a $PREFIX/lib/libkoraligsl.a $PREFIX/lib/libkoraligslcblas.a" 

if [ $USE_UPCXX -eq 1 ]; then
 CXXFLAGS="$CXXFLAGS `upcxx-meta CPPFLAGS`"
 LDFLAGS="$LDFLAGS `upcxx-meta LIBS`" 
fi

if [ $USE_MULTITHREAD -eq 1 ]; then
 CXXFLAGS="$CXXFLAGS -pthread"
fi

#echo "$CXX $@ $CXXFLAGS $LDFLAGS"
$CXX $@ $CXXFLAGS $LDFLAGS